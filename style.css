/*
designed by gemini 3.0 pro
*/

/* --- 기본 설정 (Base Reset) --- */
:root {
    --bg-color: #0f0f11;
    --panel-color: #1a1a1e;
    --text-main: #e0e0e0;
    --text-dim: #888;
    --accent-color: #5e81ac;
    --accent-hover: #81a1c1;
    --border-color: #333;
    --highlight: #b48ead;
    --tab-inactive: #222;
    --tab-active: #1a1a1e;
}

/* 모든 요소에 폰트 강제 적용 및 박스 크기 고정 */
* {
    box-sizing: border-box; /* 패딩/테두리가 너비를 늘리지 않도록 고정 */
}

body, button, input, textarea, select {
    font-family: 'Roboto Mono', monospace;
    font-variant-numeric: tabular-nums;
}

body {
    background-color: var(--bg-color);
    color: var(--text-main);
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    min-height: 100vh;
}
@media (max-width: 600px) {
    body {
        padding-top: 10px;
        padding-bottom: 10px;
    }
}

#main {
    width: 100%;
    max-width: 1000px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.game-header {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--accent-color);
    text-align: center;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--border-color);
}

/* --- 상단 정보창 (Dashboard) --- */
.top {
    background-color: var(--panel-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 20px;
    text-align: center;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    min-height: 150px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

#top p {
    margin: 5px 0;
}

#fv_view {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--highlight);
    text-shadow: 0 0 10px rgba(180, 142, 173, 0.3);
}
/*#fv_view_differentiate {*/
/*    font-size: 2.5rem;*/
/*    font-weight: 700;*/
/*    color: var(--highlight);*/
/*    text-shadow: 0 0 10px rgba(180, 142, 173, 0.3);*/
/*}*/
.fv_main_view {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--highlight);
    text-shadow: 0 0 10px rgba(180, 142, 173, 0.3);
}

#function_view {
    font-size: 1.2rem;
    color: var(--accent-hover);
}

#x_progress {
    color: var(--text-dim);
    font-size: 0.9rem;
}
.differentiate_progress {
    color: var(--text-dim);
    font-size: 0.9rem;
}
.blue_view {
    font-size: 1.2rem;
    color: var(--accent-hover);
}


/* --- 클러스터 내용 (탭 패널) --- */
.cluster {
    background-color: var(--panel-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
}

/* 탭 메뉴 전체 컨테이너 */
#tabs {
    display: flex;
    gap: 5px;
    padding: 0 10px;
}

/* 탭 버튼 스타일 */
.tab-button {
    flex-grow: 1;
    background-color: var(--tab-inactive);
    border: 1px solid var(--border-color);
    border-bottom: none;
    color: var(--text-main);
    padding: 10px 15px;
    font-size: 1rem;
    cursor: pointer;
    transition: background-color 0.2s, color 0.2s;
    border-radius: 8px 8px 0 0;
    white-space: nowrap;
}

.tab-button:hover:not(.active) {
    background-color: var(--border-color);
}

.tab-button.active {
    background-color: var(--tab-active);
    color: var(--accent-hover);
    font-weight: 700;
    border-top: 1px solid var(--accent-color);
    border-left: 1px solid var(--accent-color);
    border-right: 1px solid var(--accent-color);
    z-index: 1;
}

/* --- 업그레이드 버튼 영역 (1, 2 공통 수정) --- */
#first_upgrade_buttons, #second_upgrade_buttons,#setting_buttins {
    display: grid;
    /* 핵심: 무조건 2열로 배치 */
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    padding: 10px;
    border-radius: 8px;
    margin-top: 15px;
}

#first_upgrade_buttons, #differentiate_buttons {
    background: rgba(255, 255, 255, 0.03);
}

#second_upgrade_buttons {
    background: rgba(94, 129, 172, 0.05);
    border: 1px solid var(--border-color);
}

/* --- 개별 버튼 스타일 --- */
.upgrade_bt {
    background-color: black;
    border: 1px solid var(--accent-color);
    color: var(--text-main);
    padding: 15px;
    font-size: 1rem;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.2s;
    border-radius: 4px;
    min-height: 80px;

    /* 수직/수평 가운데 정렬 설정 */
    display: flex;
    flex-direction: column;
    justify-content: center; /* 세로 방향 가운데 정렬 */
    align-items: center;     /* 가로 방향 가운데 정렬 (핵심 수정) */
    text-align: center;      /* 여러 줄일 경우 텍스트 자체도 중앙 정렬 */

    width: 100%;
}

.upgrade_bt span {
    display: block;
}

.upgrade_bt:hover {
    background-color: rgba(94, 129, 172, 0.15);
    border-color: var(--accent-hover);
    transform: translateY(-2px);
}

.upgrade_bt:active {
    transform: translateY(0);
}

/* 모바일 화면 최적화 (너비가 너무 좁을 때 1줄로 변경) */
@media (max-width: 500px) {
    #first_upgrade_buttons, #second_upgrade_buttons {
        grid-template-columns: 1fr;
    }
}


/* --- Auto Cluster Styles --- */

/* 그리드 컨테이너: 2열 배치 */
#auto_upgrade_container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-top: 20px;
}

/* 개별 카드 스타일 */
.auto_card {
    background-color: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 15px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    transition: border-color 0.2s;
}

.auto_card:hover {
    border-color: var(--accent-color);
    background-color: rgba(255, 255, 255, 0.05);
}

/* 카드 헤더 (이름 + 상태) */
.auto_header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 8px;
    margin-bottom: 5px;
}

.auto_title {
    font-weight: 700;
    color: var(--accent-hover);
    font-size: 1.1rem;
}

.auto_status {
    font-size: 0.75rem;
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: bold;
}

.status_active {
    color: #a3be8c; /* Greenish */
    background: rgba(163, 190, 140, 0.2);
}

.status_inactive {
    color: #bf616a; /* Reddish */
    background: rgba(191, 97, 106, 0.2);
}

/* 정보 영역 (시간, 조건) */
.auto_info {
    font-size: 0.9rem;
    color: var(--text-dim);
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.info_row {
    display: flex;
    justify-content: space-between;
}

.info_row .value {
    color: var(--text-main);
    font-family: 'Roboto Mono', monospace;
}

/* 하단 액션 (토글 스위치) */
.auto_action {
    margin-top: auto; /* 카드가 길어져도 항상 바닥에 붙음 */
    padding-top: 10px;
    display: flex;
    align-items: center;
    justify-content: flex-end; /* 오른쪽 정렬 */
    gap: 10px;
}

.toggle_label {
    font-size: 0.8rem;
    color: var(--text-dim);
}

/* --- 토글 스위치 디자인 (CSS Only) --- */
.toggle_switch {
    position: relative;
    display: inline-block;
    width: 46px;
    height: 24px;
}

/* 실제 체크박스는 숨김 */
.toggle_switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

/* 슬라이더 (배경) */
.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #333;
    transition: .4s;
    border-radius: 24px;
    border: 1px solid var(--border-color);
}

/* 슬라이더 내부 원 (움직이는 부분) */
.slider:before {
    position: absolute;
    content: "";
    height: 16px;
    width: 16px;
    left: 4px;
    bottom: 3px;
    background-color: var(--text-dim);
    transition: .4s;
    border-radius: 50%;
}

/* 체크되었을 때 (Active) */
input:checked + .slider {
    background-color: var(--accent-color);
    border-color: var(--accent-hover);
}

input:checked + .slider:before {
    transform: translateX(22px);
    background-color: #fff;
}

/* 포커스 효과 (접근성) */
input:focus + .slider {
    box-shadow: 0 0 1px var(--accent-color);
}

/* 모바일 대응 (화면 좁을 때 1열로 변경) */
@media (max-width: 600px) {
    #auto_upgrade_container {
        grid-template-columns: 1fr;
    }
}
.toast {
    visibility: hidden; /* 평소에는 숨김 */
    min-width: 200px;
    background-color: #333;
    color: #fff;
    text-align: center;
    border-radius: 8px;
    padding: 16px;
    position: fixed;
    z-index: 1;
    left: 50%;
    bottom: 30px;
    transform: translateX(-50%); /* 화면 하단 중앙 정렬 */
    font-size: 14px;
}

/* 클래스가 추가되면 보여줌 */
.toast.show {
    visibility: visible;
    animation: fadein 0.5s, fadeout 0.5s 2.5s; /* 0.5초 나타나고, 2.5초 뒤에 0.5초 동안 사라짐 */
}

/* 나타나는 애니메이션 */
@keyframes fadein {
    from { bottom: 0; opacity: 0; }
    to { bottom: 30px; opacity: 1; }
}

/* 사라지는 애니메이션 */
@keyframes fadeout {
    from { bottom: 30px; opacity: 1; }
    to { bottom: 0; opacity: 0; }
}
/* --- Mission Widget: Right-Center Layout --- */
.mission-container {
    display: none; /* 초기에는 숨김 (jQuery fadeIn으로 표시) */
    position: fixed;
    right: 20px;   /* 오른쪽 벽에서 20px 띄움 */
    top: 50%;
    transform: translateY(-50%); /* 세로 정렬 보정 */

    width: 260px;
    background-color: var(--panel-color);
    border: 1px solid var(--border-color);
    border-left: 4px solid var(--accent-color); /* 포인트 라인 */
    border-radius: 8px;
    padding: 20px;
    z-index: 1000;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);

    /* 폰트 상속 */
    font-family: 'Roboto Mono', monospace;
}

.mission-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(255,255,255,0.05);
    padding-bottom: 10px;
    margin-bottom: 15px;
}

.mission-title {
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--accent-color);
    letter-spacing: 1px;
    text-transform: uppercase;
}

.mission-close-btn {
    cursor: pointer;
    color: var(--text-dim);
    font-size: 1.2rem;
    line-height: 1;
}

#current-mission-area {
    min-height: 50px;
    margin-bottom: 15px;
}

#mission-name {
    font-size: 0.95rem;
    color: var(--text-main);
    line-height: 1.5;
    margin: 0;
}

/* 프로그레스 바 영역 */
.mission-footer {
    border-top: 1px solid rgba(255,255,255,0.05);
    padding-top: 12px;
}

.progress-container {
    width: 100%;
    height: 6px;
    background-color: var(--bg-color);
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 8px;
}

.progress-bar {
    width: 0%;
    height: 100%;
    background-color: var(--accent-color);
    transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

#progress-text {
    font-size: 0.7rem;
    color: var(--text-dim);
    text-align: right;
    margin: 0;
}